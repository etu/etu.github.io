{{ define "main" }}
<div class="content">
    {{ if (.Title | len) }}
        <h1>{{ .Title }}</h1>
    {{ end }}

    {{ .Content }}

    {{ if isset .Params "algorithms" }}
        <div class="algorithms">
            {{ range $idx, $algo := .Params.algorithms }}
                <div class="algorithm-card" id="algo-{{ $idx }}">
                    <h2>{{ $algo.name }}</h2>

                    {{ if isset $algo "description" }}
                        <p class="description">{{ $algo.description }}</p>
                    {{ end }}

                    <div class="notation-section">
                        <h3>Notation</h3>
                        <code class="algorithm-notation">{{ $algo.notation }}</code>
                    </div>

                    {{ if isset $algo "animCube" }}
                        <div class="cube-wrapper">
                            <div class="cube">
                                <script>
                                    AnimCube{{ $algo.animCube.size | default 3 | safeJS }}(
                                        "buttonbar={{ $algo.animCube.buttonBar | default 1 }}&" +
                                        "buttonheight={{ $algo.animCube.buttonHeight | default 25 }}&" +
                                        "speed={{ $algo.animCube.speed | default 10 }}&" +
                                        "initmove={{ $algo.animCube.initMove | default }}&" +
                                        "initrevmove={{ $algo.animCube.initRevMove | default "#" }}&" +
                                        "move={{ $algo.animCube.move }}"
                                    )
                                </script>
                            </div>
                        </div>
                    {{ end }}
                </div>
            {{ end }}
        </div>
    {{ end }}
</div>
{{ end }}

{{ define "headcontent" }}
<link rel="stylesheet" href="/css/cubing.css">
<script src="/js/AnimCube3.js"></script>
{{ end }}
